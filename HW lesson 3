/* Таблица школа, университет. Назвала образование.
*/
CREATE TABLE education (
  user_id BIGINT UNSIGNED NOT NULL,
  higher_education varchar(30), year_end year,
  facultet varchar(30),
  specialty varchar(50),
  form_of_trainig varchar(30),
  status_study varchar(100),
  school varchar(100), city varchar(50), year_start_end year,
  profil_class varchar(100),
  UNIQUE INDEX fk_education_users_to_idx (user_id),
  CONSTRAINT fk_education_users FOREIGN KEY (user_id) REFERENCES users (id) -- ON DELETE CASCADE
);

/*посты пользователя, я так понимаю они как и сообщения*/
CREATE TABLE posts (
id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  from_user_id BIGINT UNSIGNED NOT NULL, -- id = 1, пост пользователя 1
  to_user_id BIGINT UNSIGNED NOT NULL, -- id = 2, кто читает пользователь 2
  txt TEXT NOT NULL, -- текст поста
  created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, -- дата и время создания
  INDEX fk_posts_from_user_idx (from_user_id),
  INDEX fk_posts_to_user_idx (to_user_id),
  CONSTRAINT fk_posts_users_1 FOREIGN KEY (from_user_id) REFERENCES users (id),
  CONSTRAINT fk_posts_users_2 FOREIGN KEY (to_user_id) REFERENCES users (id)
);

/*чёрный списok*/
CREATE TABLE black_list (
  black_list_id BIGINT UNSIGNED NOT NULL,
  user_id BIGINT UNSIGNED NOT NULL, -- пользователь, который вносит в черный список
  add_user_id BIGINT UNSIGNED NOT NULL, -- тот пользователь, которого добавляют в чёрный список
  INDEX fk_black_list_user_idx (user_id),
  CONSTRAINT fk_black_list_user FOREIGN KEY (user_id) REFERENCES users (id)
) ENGINE=InnoDB;
